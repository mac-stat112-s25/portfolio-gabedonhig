<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Gabriel Donelly Higgins">
<title>4&nbsp; Quadvariate Viz â€“ COMP/STAT112 Notebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../bw/bw-spatial.html" rel="next">
<link href="../bw/bw-tri.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../bw/bw-uni.html">Best Work</a></li><li class="breadcrumb-item"><a href="../bw/bw-quad.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Viz</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Gabriel Donelly Higgins</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Best Work</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Univariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-tri.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Trivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-quad.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Spatial Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/exam_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Exam 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/exam_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Exam 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/solo_project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Solo Project</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Summary</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../summary/exam_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Exam 1 Summary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../summary/exam_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Exam 2 Summary</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">In-class Activities</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Univariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Bivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-multi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Mulivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Spatial Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-effective.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Effective Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-joining.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Joining</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Wrangling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-reshaping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Reshaping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Factors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-dates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Dates</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#research-question" id="toc-research-question" class="nav-link active" data-scroll-target="#research-question"><span class="header-section-number">4.1</span> Research question:</a></li>
  <li><a href="#step-1-load-necessary-packages" id="toc-step-1-load-necessary-packages" class="nav-link" data-scroll-target="#step-1-load-necessary-packages"><span class="header-section-number">4.2</span> Step 1: Load necessary packages</a></li>
  <li><a href="#step-2-import-clean-join-and-wrangle-the-data" id="toc-step-2-import-clean-join-and-wrangle-the-data" class="nav-link" data-scroll-target="#step-2-import-clean-join-and-wrangle-the-data"><span class="header-section-number">4.3</span> Step 2: Import / clean / join and wrangle the data:</a></li>
  <li><a href="#step-3-put-data-into-a-plot" id="toc-step-3-put-data-into-a-plot" class="nav-link" data-scroll-target="#step-3-put-data-into-a-plot"><span class="header-section-number">4.4</span> Step 3: Put data into a plot</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">4.5</span> References:</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../bw/bw-uni.html">Best Work</a></li><li class="breadcrumb-item"><a href="../bw/bw-quad.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Viz</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Viz</span>
</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Donelly Higgins </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Invalid Date</p>
    </div>
  </div>
  
    
  </div>
  


</header><section id="research-question" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="research-question">
<span class="header-section-number">4.1</span> Research question:</h2>
<p>How does population, internal migration, overseas migration, and the fertility rate relate to each other at Statistical Level 4 areas in Australia</p>
</section><section id="step-1-load-necessary-packages" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="step-1-load-necessary-packages">
<span class="header-section-number">4.2</span> Step 1: Load necessary packages</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(ggthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="step-2-import-clean-join-and-wrangle-the-data" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="step-2-import-clean-join-and-wrangle-the-data">
<span class="header-section-number">4.3</span> Step 2: Import / clean / join and wrangle the data:</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>messy_aussie_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../data/ABS,ABS_REGIONAL_ASGS2021,1.3.0+CABEE_5+CABEE_15+CABEE_10+MIGRATION_7+MIGRATION_4+BD_3+BD_4+BD_2+ERP_P_20.SA3..A.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>aussie_data <span class="ot">&lt;-</span> messy_aussie_data <span class="sc">|&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>  <span class="fu">select</span>(Region, <span class="st">`</span><span class="at">Data Item</span><span class="st">`</span>, OBS_VALUE) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Data Item</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">fct_recode</span>(<span class="st">`</span><span class="at">Data Item</span><span class="st">`</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>                                  <span class="st">"fert_rate"</span> <span class="ot">=</span> <span class="st">"Total fertility rate (births per female) (rate)"</span>,</span>
<span id="cb2-7"><a href="#cb2-7"></a>                                  <span class="st">"net_over_migr"</span> <span class="ot">=</span> <span class="st">"Net overseas migration (no.)"</span>,</span>
<span id="cb2-8"><a href="#cb2-8"></a>                                  <span class="st">"net_inter_migr"</span> <span class="ot">=</span> <span class="st">"Net internal migration (no.)"</span>,</span>
<span id="cb2-9"><a href="#cb2-9"></a>                                  <span class="st">"reg_births"</span> <span class="ot">=</span> <span class="st">"Registered births (no.)"</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>                                  <span class="st">"reg_deaths"</span> <span class="ot">=</span> <span class="st">"Registered deaths (no.)"</span>,</span>
<span id="cb2-11"><a href="#cb2-11"></a>                                  <span class="st">"total_pop"</span> <span class="ot">=</span> <span class="st">"Estimated resident population: Persons (no.)"</span>,</span>
<span id="cb2-12"><a href="#cb2-12"></a>                                  <span class="st">"total_busi_exits"</span> <span class="ot">=</span> <span class="st">"Total business exits (no.)"</span>,</span>
<span id="cb2-13"><a href="#cb2-13"></a>                                  <span class="st">"total_busi_entr"</span> <span class="ot">=</span> <span class="st">"Total business entries (no.)"</span>,</span>
<span id="cb2-14"><a href="#cb2-14"></a>                                  <span class="st">"total_busi"</span> <span class="ot">=</span> <span class="st">"Total businesses (no.)"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">`</span><span class="at">Data Item</span><span class="st">`</span>, <span class="at">values_from =</span> OBS_VALUE) <span class="sc">|&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(fert_rate)) <span class="sc">|&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17"></a>  <span class="fu">mutate</span>(<span class="at">net_pop =</span> reg_births <span class="sc">-</span> reg_deaths) <span class="sc">|&gt;</span> <span class="co"># total births - deaths</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="fu">mutate</span>(<span class="at">net_migr =</span> net_over_migr <span class="sc">+</span> net_inter_migr) <span class="sc">|&gt;</span> <span class="co"># the total change in migrants</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>  <span class="fu">mutate</span>(<span class="at">net_busi =</span> total_busi_entr <span class="sc">-</span> total_busi_exits) <span class="sc">|&gt;</span> <span class="co"># the total change in businesses</span></span>
<span id="cb2-20"><a href="#cb2-20"></a>  <span class="fu">mutate</span>(<span class="at">pct_inter_migr =</span> (net_inter_migr <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># net internal migration as a percent of total pop</span></span>
<span id="cb2-21"><a href="#cb2-21"></a>  <span class="fu">mutate</span>(<span class="at">pct_over_migr =</span> (net_over_migr <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># net overseas migration as a percent of total pop</span></span>
<span id="cb2-22"><a href="#cb2-22"></a>  <span class="fu">mutate</span>(<span class="at">pct_migr =</span> (net_migr <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># the pct change in population by migrants</span></span>
<span id="cb2-23"><a href="#cb2-23"></a>  <span class="fu">mutate</span>(<span class="at">pct_pop =</span> (net_pop <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># the pct change in population</span></span>
<span id="cb2-24"><a href="#cb2-24"></a>  <span class="fu">mutate</span>(<span class="at">pct_busi =</span> (net_busi <span class="sc">/</span> total_busi) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># the pct change in businesses</span></span>
<span id="cb2-25"><a href="#cb2-25"></a>  <span class="fu">mutate</span>(<span class="at">yn_fert_rate =</span> <span class="fu">cut</span>(fert_rate,</span>
<span id="cb2-26"><a href="#cb2-26"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">2.1</span>, <span class="cn">Inf</span>),</span>
<span id="cb2-27"><a href="#cb2-27"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Below replacement rate"</span>, <span class="st">"Above replacement rate"</span>),</span>
<span id="cb2-28"><a href="#cb2-28"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-29"><a href="#cb2-29"></a>  <span class="fu">mutate</span>(<span class="at">yn_net_migr =</span> <span class="fu">cut</span>(net_migr,</span>
<span id="cb2-30"><a href="#cb2-30"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb2-31"><a href="#cb2-31"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Lost population through migration"</span>, <span class="st">"Gained population through migration"</span>),</span>
<span id="cb2-32"><a href="#cb2-32"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-33"><a href="#cb2-33"></a>  <span class="fu">mutate</span>(<span class="at">yn_inter_migr =</span> <span class="fu">cut</span>(net_inter_migr,</span>
<span id="cb2-34"><a href="#cb2-34"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb2-35"><a href="#cb2-35"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Net Negative internal migration"</span>, <span class="st">"Net Positive internal migration"</span>),</span>
<span id="cb2-36"><a href="#cb2-36"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-37"><a href="#cb2-37"></a>  <span class="fu">mutate</span>(<span class="at">yn_over_migr =</span> <span class="fu">cut</span>(net_over_migr,</span>
<span id="cb2-38"><a href="#cb2-38"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb2-39"><a href="#cb2-39"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Lost population through overseas migration"</span>, <span class="st">"Gained population through overseas migration"</span>),</span>
<span id="cb2-40"><a href="#cb2-40"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-41"><a href="#cb2-41"></a>  <span class="fu">mutate</span>(<span class="at">yn_net_busi =</span> <span class="fu">cut</span>(net_busi,</span>
<span id="cb2-42"><a href="#cb2-42"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb2-43"><a href="#cb2-43"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Lost more businesses than gained"</span>, <span class="st">"Gained more businesses than lost"</span>),</span>
<span id="cb2-44"><a href="#cb2-44"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-45"><a href="#cb2-45"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(yn_inter_migr))</span>
<span id="cb2-46"><a href="#cb2-46"></a>  </span>
<span id="cb2-47"><a href="#cb2-47"></a><span class="fu">summary</span>(aussie_data)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>    Region            total_pop        reg_births       fert_rate    
 Length:331         Min.   :  1969   Min.   :  15.0   Min.   :0.640  
 Class :character   1st Qu.: 40834   1st Qu.: 431.0   1st Qu.:1.530  
 Mode  :character   Median : 63525   Median : 692.0   Median :1.830  
                    Mean   : 78375   Mean   : 903.9   Mean   :1.749  
                    3rd Qu.:102706   3rd Qu.:1143.0   3rd Qu.:1.980  
                    Max.   :314096   Max.   :5378.0   Max.   :2.690  
   reg_deaths     net_inter_migr      net_over_migr      total_busi   
 Min.   :   8.0   Min.   :-6293.000   Min.   :   8.0   Min.   :  195  
 1st Qu.: 318.5   1st Qu.: -439.000   1st Qu.: 143.0   1st Qu.: 3792  
 Median : 503.0   Median :  -21.000   Median : 343.0   Median : 5916  
 Mean   : 573.2   Mean   :    0.039   Mean   : 612.6   Mean   : 7686  
 3rd Qu.: 789.0   3rd Qu.:  408.000   3rd Qu.: 747.5   3rd Qu.: 9139  
 Max.   :1874.0   Max.   : 8403.000   Max.   :6498.0   Max.   :76873  
 total_busi_entr total_busi_exits    net_pop          net_migr      
 Min.   :   35   Min.   :  26.0   Min.   :-323.0   Min.   :-4019.0  
 1st Qu.:  572   1st Qu.: 397.0   1st Qu.:  24.0   1st Qu.:  -56.5  
 Median :  963   Median : 662.0   Median : 209.0   Median :  306.0  
 Mean   : 1417   Mean   : 912.1   Mean   : 330.7   Mean   :  612.6  
 3rd Qu.: 1700   3rd Qu.:1102.5   3rd Qu.: 448.0   3rd Qu.:  872.5  
 Max.   :12677   Max.   :9314.0   Max.   :4322.0   Max.   : 9477.0  
    net_busi      pct_inter_migr    pct_over_migr       pct_migr      
 Min.   :   5.0   Min.   :-3.4823   Min.   :0.1124   Min.   :-2.1741  
 1st Qu.: 149.5   1st Qu.:-0.8086   1st Qu.:0.2989   1st Qu.:-0.1155  
 Median : 293.0   Median :-0.0256   Median :0.4670   Median : 0.6134  
 Mean   : 504.5   Mean   : 0.0887   Mean   :0.6664   Mean   : 0.7551  
 3rd Qu.: 525.0   3rd Qu.: 0.8146   3rd Qu.:0.8583   3rd Qu.: 1.3350  
 Max.   :8155.0   Max.   : 7.9566   Max.   :4.0533   Max.   : 8.3868  
    pct_pop            pct_busi                       yn_fert_rate
 Min.   :-0.93842   Min.   : 0.9601   Below replacement rate:286  
 1st Qu.: 0.05088   1st Qu.: 3.6220   Above replacement rate: 45  
 Median : 0.34263   Median : 4.9741                               
 Mean   : 0.35294   Mean   : 5.7289                               
 3rd Qu.: 0.59615   3rd Qu.: 6.6272                               
 Max.   : 1.78077   Max.   :24.9160                               
                              yn_net_migr 
 Lost population through migration  : 96  
 Gained population through migration:235  
                                          
                                          
                                          
                                          
                         yn_inter_migr
 Net Negative internal migration:171  
 Net Positive internal migration:160  
                                      
                                      
                                      
                                      
                                       yn_over_migr
 Lost population through overseas migration  :  0  
 Gained population through overseas migration:331  
                                                   
                                                   
                                                   
                                                   
                           yn_net_busi 
 Lost more businesses than gained:  0  
 Gained more businesses than lost:331  
                                       
                                       
                                       
                                       </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>aussie_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 331 Ã— 23
   Region total_pop reg_births fert_rate reg_deaths net_inter_migr net_over_migr
   &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt;
 1 Gosfoâ€¦    178868       1878      1.87       1788          -1364           805
 2 Wyong     170290       2152      2.05       1847             25           463
 3 Baulkâ€¦    155374       1181      1.36       1029          -1503          1347
 4 Duralâ€¦     28008        204      1.66        216           -129           126
 5 Hawkeâ€¦     25130        292      2.11        128           -289            49
 6 Rouseâ€¦     62992        858      1.85        158           5012           271
 7 Blackâ€¦    143628       1969      1.83        954          -2621          1543
 8 Blackâ€¦    155305       2369      1.84        380           8403          1060
 9 Mountâ€¦    116243       1781      2.1         787          -2369           855
10 Botany     60892        846      1.41        314            169           895
# â„¹ 321 more rows
# â„¹ 16 more variables: total_busi &lt;dbl&gt;, total_busi_entr &lt;dbl&gt;,
#   total_busi_exits &lt;dbl&gt;, net_pop &lt;dbl&gt;, net_migr &lt;dbl&gt;, net_busi &lt;dbl&gt;,
#   pct_inter_migr &lt;dbl&gt;, pct_over_migr &lt;dbl&gt;, pct_migr &lt;dbl&gt;, pct_pop &lt;dbl&gt;,
#   pct_busi &lt;dbl&gt;, yn_fert_rate &lt;fct&gt;, yn_net_migr &lt;fct&gt;, yn_inter_migr &lt;fct&gt;,
#   yn_over_migr &lt;fct&gt;, yn_net_busi &lt;fct&gt;</code></pre>
</div>
</div>
</section><section id="step-3-put-data-into-a-plot" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="step-3-put-data-into-a-plot">
<span class="header-section-number">4.4</span> Step 3: Put data into a plot</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">ggplot</span>(aussie_data, <span class="fu">aes</span>(<span class="at">x =</span> total_pop, <span class="at">y =</span> pct_over_migr, <span class="at">color =</span> yn_fert_rate)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb6-3"><a href="#cb6-3"></a>             <span class="at">size =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>yn_inter_migr) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="fu">theme_solarized</span>(<span class="at">light =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="fu">scale_color_solarized</span>() <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="fu">scale_color_solarized</span>(<span class="at">name =</span> <span class="st">"Fertility Rate"</span>) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Population"</span>, <span class="at">y =</span> <span class="st">"Net Overseas Migration as % of Pop."</span>, <span class="at">title =</span> <span class="st">"Fertility Rates, Internal / Overseas Migration, and Population"</span>) <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb6-12"><a href="#cb6-12"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fl">12.5</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb6-13"><a href="#cb6-13"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">color =</span> <span class="st">"#93a1a1"</span>),</span>
<span id="cb6-14"><a href="#cb6-14"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb6-15"><a href="#cb6-15"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">color =</span> <span class="st">"#93a1a1"</span>),</span>
<span id="cb6-16"><a href="#cb6-16"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="bw-quad_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" alt="There is a scatterplot which uses net overseas migration standardized as a percentage of the population on the y-axis, and the population of points on the x-axis. It is faceted by whether or not the points experienced a net positive or negative internal migration, and the points are colored either red or blue. The legend shows that red points are above replacement rate, and blue points are below. The title is 'Fertility Rates, Internal / Overseas Migration, and Population'. The points are slightly transparent, so you can see how intensely red or blue a part of the plot is where there are many points. There are trend lines for the red and blue dots on both of the scattered plots. On the net negative internal migration scatterplot, there is a similar positive correlation between population and overseas migration between red and blue points, but the red trend line starts at a lower point, nearer to 0%, while the blue trend line starts nearer to 1%. On the scatterplot for points with a net positive internal migration, there was the same positive correlation among red and blue points, but the trend lines were flatter. Again, the blue trend line started above the red point, but below 0.5% (whereas in the other scatterplot the blue trend line started above 0.5%). The red trend line starts above as close to 0% as in the previous scatterplot, and in below the blue trend line. The blue trend lines extend further on the x-axis because they have points which extend further." width="672"></p>
<figcaption>A Scatterplot of Population and Overseas Migration Faceted by Internal Migration and Colored by Fertility Rate</figcaption></figure>
</div>
</div>
</div>
<p><strong>Conclusion:</strong></p>
<p>It seems like when Statistical Level 4 Areas(SL4A) in Australia have a negative internal migration, they get more overseas immigrants per capita, indicating that overseas immigrants may be more attracted to SL4Aâ€™s that have a net negative internal migration. Perhaps this is because the labor pool is smaller, allowing them to more easily fill it, or perhaps there are other reasons. However, even if the trend was more positive for both SL4Aâ€™s with fertility rates below and above replace rate, the y-intercept for both the net negative and net positive internal migration above replacement lines were the same. What this means is that in SL4Aâ€™s with low populations and a fertility rate above replacement rate, the net overseas migration per capita is roughly similar, but that trend changes in SL4Aâ€™s that have higher populations as immigrants tend to go to the ones with net negative internal migration. The reason why there are more SL4Aâ€™s with positive internal migration and high populations is possibly because an SL4A with a high population is necessarily more likely to have a more active economy, attracting people internally for jobs. This may make it so that more natives go to these SL4Aâ€™s, and perhaps overseas immigrants may have difficulty competing with natives. Lastly, the outliers which really increase the range of the y-axis tend to be outliers from the net negative internal migration SL4Aâ€™s, and they are all also below replacement rate. Approaching this through the lens of the United Statesâ€™ urban development and history, the reason these outliers may have such high overseas migration per capita is because they serve as ethnic enclaves, where overseas immigrants of certain regons tend to concentrate. These SL4Aâ€™s may have lower fertility rates and are losing natives to internal migration, which indicates that there are fewer natives occupying the area, making room for new overseas immigrant communities</p>
</section><section id="references" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="references">
<span class="header-section-number">4.5</span> References:</h2>
<p>https://dataexplorer.abs.gov.au/vis?fs[0]=Data%20by%20region%2C0%7CMain%20Structure%20and%20Greater%20Capital%20City%20Statistical%20Areas%23ASGS%23&amp;pg=0&amp;fc=Data%20by%20region&amp;df[ds]=DATA_BY_REGION_TOPICS&amp;df[id]=ABS_REGIONAL_ASGS2021&amp;df[ag]=ABS&amp;df[vs]=1.3.0&amp;pd=2022%2C2022&amp;dq=CABEE_5%2BCABEE_15%2BCABEE_10%2BMIGRATION_7%2BMIGRATION_4%2BBD_3%2BBD_4%2BBD_2%2BERP_P_20.SA3..A&amp;ly[cl]=MEASURE&amp;ly[rw]=ASGS_2021&amp;to[TIME_PERIOD]=false&amp;isAvailabilityDisabled=false&amp;snb=2 (accessed: April 18th, 2025)</p>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../bw/bw-tri.html" class="pagination-link" aria-label="Trivariate Viz">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Trivariate Viz</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../bw/bw-spatial.html" class="pagination-link" aria-label="Spatial Viz">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Spatial Viz</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb7" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">---</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="an">title:</span><span class="co"> "Quadvariate Viz"</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="an">author:</span><span class="co"> "Gabriel Donelly Higgins"</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="an">date:</span><span class="co"> "May 2nd, 2025"</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">---</span></span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="fu">## Research question:</span></span>
<span id="cb7-9"><a href="#cb7-9"></a></span>
<span id="cb7-10"><a href="#cb7-10"></a>How does population, internal migration, overseas migration, and the fertility rate relate to each other at Statistical Level 4 areas in Australia</span>
<span id="cb7-11"><a href="#cb7-11"></a></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="fu">## Step 1: Load necessary packages</span></span>
<span id="cb7-13"><a href="#cb7-13"></a></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="in">```{r}</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="in">```</span></span>
<span id="cb7-20"><a href="#cb7-20"></a></span>
<span id="cb7-21"><a href="#cb7-21"></a></span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="fu">## Step 2: Import / clean / join and wrangle the data:</span></span>
<span id="cb7-23"><a href="#cb7-23"></a></span>
<span id="cb7-26"><a href="#cb7-26"></a><span class="in">```{r}</span></span>
<span id="cb7-27"><a href="#cb7-27"></a>messy_aussie_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../data/ABS,ABS_REGIONAL_ASGS2021,1.3.0+CABEE_5+CABEE_15+CABEE_10+MIGRATION_7+MIGRATION_4+BD_3+BD_4+BD_2+ERP_P_20.SA3..A.csv"</span>)</span>
<span id="cb7-28"><a href="#cb7-28"></a></span>
<span id="cb7-29"><a href="#cb7-29"></a>aussie_data <span class="ot">&lt;-</span> messy_aussie_data <span class="sc">|&gt;</span></span>
<span id="cb7-30"><a href="#cb7-30"></a>  <span class="fu">select</span>(Region, <span class="st">`</span><span class="at">Data Item</span><span class="st">`</span>, OBS_VALUE) <span class="sc">|&gt;</span></span>
<span id="cb7-31"><a href="#cb7-31"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Data Item</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">fct_recode</span>(<span class="st">`</span><span class="at">Data Item</span><span class="st">`</span>,</span>
<span id="cb7-32"><a href="#cb7-32"></a>                                  <span class="st">"fert_rate"</span> <span class="ot">=</span> <span class="st">"Total fertility rate (births per female) (rate)"</span>,</span>
<span id="cb7-33"><a href="#cb7-33"></a>                                  <span class="st">"net_over_migr"</span> <span class="ot">=</span> <span class="st">"Net overseas migration (no.)"</span>,</span>
<span id="cb7-34"><a href="#cb7-34"></a>                                  <span class="st">"net_inter_migr"</span> <span class="ot">=</span> <span class="st">"Net internal migration (no.)"</span>,</span>
<span id="cb7-35"><a href="#cb7-35"></a>                                  <span class="st">"reg_births"</span> <span class="ot">=</span> <span class="st">"Registered births (no.)"</span>,</span>
<span id="cb7-36"><a href="#cb7-36"></a>                                  <span class="st">"reg_deaths"</span> <span class="ot">=</span> <span class="st">"Registered deaths (no.)"</span>,</span>
<span id="cb7-37"><a href="#cb7-37"></a>                                  <span class="st">"total_pop"</span> <span class="ot">=</span> <span class="st">"Estimated resident population: Persons (no.)"</span>,</span>
<span id="cb7-38"><a href="#cb7-38"></a>                                  <span class="st">"total_busi_exits"</span> <span class="ot">=</span> <span class="st">"Total business exits (no.)"</span>,</span>
<span id="cb7-39"><a href="#cb7-39"></a>                                  <span class="st">"total_busi_entr"</span> <span class="ot">=</span> <span class="st">"Total business entries (no.)"</span>,</span>
<span id="cb7-40"><a href="#cb7-40"></a>                                  <span class="st">"total_busi"</span> <span class="ot">=</span> <span class="st">"Total businesses (no.)"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-41"><a href="#cb7-41"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">`</span><span class="at">Data Item</span><span class="st">`</span>, <span class="at">values_from =</span> OBS_VALUE) <span class="sc">|&gt;</span></span>
<span id="cb7-42"><a href="#cb7-42"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(fert_rate)) <span class="sc">|&gt;</span></span>
<span id="cb7-43"><a href="#cb7-43"></a>  <span class="fu">mutate</span>(<span class="at">net_pop =</span> reg_births <span class="sc">-</span> reg_deaths) <span class="sc">|&gt;</span> <span class="co"># total births - deaths</span></span>
<span id="cb7-44"><a href="#cb7-44"></a>  <span class="fu">mutate</span>(<span class="at">net_migr =</span> net_over_migr <span class="sc">+</span> net_inter_migr) <span class="sc">|&gt;</span> <span class="co"># the total change in migrants</span></span>
<span id="cb7-45"><a href="#cb7-45"></a>  <span class="fu">mutate</span>(<span class="at">net_busi =</span> total_busi_entr <span class="sc">-</span> total_busi_exits) <span class="sc">|&gt;</span> <span class="co"># the total change in businesses</span></span>
<span id="cb7-46"><a href="#cb7-46"></a>  <span class="fu">mutate</span>(<span class="at">pct_inter_migr =</span> (net_inter_migr <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># net internal migration as a percent of total pop</span></span>
<span id="cb7-47"><a href="#cb7-47"></a>  <span class="fu">mutate</span>(<span class="at">pct_over_migr =</span> (net_over_migr <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># net overseas migration as a percent of total pop</span></span>
<span id="cb7-48"><a href="#cb7-48"></a>  <span class="fu">mutate</span>(<span class="at">pct_migr =</span> (net_migr <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># the pct change in population by migrants</span></span>
<span id="cb7-49"><a href="#cb7-49"></a>  <span class="fu">mutate</span>(<span class="at">pct_pop =</span> (net_pop <span class="sc">/</span> total_pop) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># the pct change in population</span></span>
<span id="cb7-50"><a href="#cb7-50"></a>  <span class="fu">mutate</span>(<span class="at">pct_busi =</span> (net_busi <span class="sc">/</span> total_busi) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># the pct change in businesses</span></span>
<span id="cb7-51"><a href="#cb7-51"></a>  <span class="fu">mutate</span>(<span class="at">yn_fert_rate =</span> <span class="fu">cut</span>(fert_rate,</span>
<span id="cb7-52"><a href="#cb7-52"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">2.1</span>, <span class="cn">Inf</span>),</span>
<span id="cb7-53"><a href="#cb7-53"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Below replacement rate"</span>, <span class="st">"Above replacement rate"</span>),</span>
<span id="cb7-54"><a href="#cb7-54"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-55"><a href="#cb7-55"></a>  <span class="fu">mutate</span>(<span class="at">yn_net_migr =</span> <span class="fu">cut</span>(net_migr,</span>
<span id="cb7-56"><a href="#cb7-56"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb7-57"><a href="#cb7-57"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Lost population through migration"</span>, <span class="st">"Gained population through migration"</span>),</span>
<span id="cb7-58"><a href="#cb7-58"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-59"><a href="#cb7-59"></a>  <span class="fu">mutate</span>(<span class="at">yn_inter_migr =</span> <span class="fu">cut</span>(net_inter_migr,</span>
<span id="cb7-60"><a href="#cb7-60"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb7-61"><a href="#cb7-61"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Net Negative internal migration"</span>, <span class="st">"Net Positive internal migration"</span>),</span>
<span id="cb7-62"><a href="#cb7-62"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-63"><a href="#cb7-63"></a>  <span class="fu">mutate</span>(<span class="at">yn_over_migr =</span> <span class="fu">cut</span>(net_over_migr,</span>
<span id="cb7-64"><a href="#cb7-64"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb7-65"><a href="#cb7-65"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Lost population through overseas migration"</span>, <span class="st">"Gained population through overseas migration"</span>),</span>
<span id="cb7-66"><a href="#cb7-66"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-67"><a href="#cb7-67"></a>  <span class="fu">mutate</span>(<span class="at">yn_net_busi =</span> <span class="fu">cut</span>(net_busi,</span>
<span id="cb7-68"><a href="#cb7-68"></a>                          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99999999</span>, <span class="dv">0</span>, <span class="cn">Inf</span>),</span>
<span id="cb7-69"><a href="#cb7-69"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Lost more businesses than gained"</span>, <span class="st">"Gained more businesses than lost"</span>),</span>
<span id="cb7-70"><a href="#cb7-70"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-71"><a href="#cb7-71"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(yn_inter_migr))</span>
<span id="cb7-72"><a href="#cb7-72"></a>  </span>
<span id="cb7-73"><a href="#cb7-73"></a><span class="fu">summary</span>(aussie_data)  </span>
<span id="cb7-74"><a href="#cb7-74"></a></span>
<span id="cb7-75"><a href="#cb7-75"></a>aussie_data</span>
<span id="cb7-76"><a href="#cb7-76"></a><span class="in">```</span></span>
<span id="cb7-77"><a href="#cb7-77"></a></span>
<span id="cb7-78"><a href="#cb7-78"></a></span>
<span id="cb7-79"><a href="#cb7-79"></a><span class="fu">## Step 3: Put data into a plot</span></span>
<span id="cb7-80"><a href="#cb7-80"></a></span>
<span id="cb7-83"><a href="#cb7-83"></a><span class="in">```{r}</span></span>
<span id="cb7-84"><a href="#cb7-84"></a><span class="co">#| fig-cap: "A Scatterplot of Population and Overseas Migration Faceted by Internal Migration and Colored by Fertility Rate"</span></span>
<span id="cb7-85"><a href="#cb7-85"></a><span class="co">#| fig-alt: "There is a scatterplot which uses net overseas migration standardized as a percentage of the population on the y-axis, and the population of points on the x-axis. It is faceted by whether or not the points experienced a net positive or negative internal migration, and the points are colored either red or blue. The legend shows that red points are above replacement rate, and blue points are below. The title is 'Fertility Rates, Internal / Overseas Migration, and Population'. The points are slightly transparent, so you can see how intensely red or blue a part of the plot is where there are many points. There are trend lines for the red and blue dots on both of the scattered plots. On the net negative internal migration scatterplot, there is a similar positive correlation between population and overseas migration between red and blue points, but the red trend line starts at a lower point, nearer to 0%, while the blue trend line starts nearer to 1%. On the scatterplot for points with a net positive internal migration, there was the same positive correlation among red and blue points, but the trend lines were flatter. Again, the blue trend line started above the red point, but below 0.5% (whereas in the other scatterplot the blue trend line started above 0.5%). The red trend line starts above as close to 0% as in the previous scatterplot, and in below the blue trend line. The blue trend lines extend further on the x-axis because they have points which extend further."</span></span>
<span id="cb7-86"><a href="#cb7-86"></a></span>
<span id="cb7-87"><a href="#cb7-87"></a><span class="fu">ggplot</span>(aussie_data, <span class="fu">aes</span>(<span class="at">x =</span> total_pop, <span class="at">y =</span> pct_over_migr, <span class="at">color =</span> yn_fert_rate)) <span class="sc">+</span></span>
<span id="cb7-88"><a href="#cb7-88"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb7-89"><a href="#cb7-89"></a>             <span class="at">size =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb7-90"><a href="#cb7-90"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>yn_inter_migr) <span class="sc">+</span></span>
<span id="cb7-91"><a href="#cb7-91"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb7-92"><a href="#cb7-92"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-93"><a href="#cb7-93"></a>  <span class="fu">theme_solarized</span>(<span class="at">light =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-94"><a href="#cb7-94"></a>  <span class="fu">scale_color_solarized</span>() <span class="sc">+</span></span>
<span id="cb7-95"><a href="#cb7-95"></a>  <span class="fu">scale_color_solarized</span>(<span class="at">name =</span> <span class="st">"Fertility Rate"</span>) <span class="sc">+</span></span>
<span id="cb7-96"><a href="#cb7-96"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Population"</span>, <span class="at">y =</span> <span class="st">"Net Overseas Migration as % of Pop."</span>, <span class="at">title =</span> <span class="st">"Fertility Rates, Internal / Overseas Migration, and Population"</span>) <span class="sc">+</span></span>
<span id="cb7-97"><a href="#cb7-97"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb7-98"><a href="#cb7-98"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fl">12.5</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb7-99"><a href="#cb7-99"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">color =</span> <span class="st">"#93a1a1"</span>),</span>
<span id="cb7-100"><a href="#cb7-100"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb7-101"><a href="#cb7-101"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">color =</span> <span class="st">"#93a1a1"</span>),</span>
<span id="cb7-102"><a href="#cb7-102"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">family =</span> <span class="st">"mono"</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb7-103"><a href="#cb7-103"></a><span class="in">```</span></span>
<span id="cb7-104"><a href="#cb7-104"></a></span>
<span id="cb7-105"><a href="#cb7-105"></a></span>
<span id="cb7-106"><a href="#cb7-106"></a>**Conclusion:**</span>
<span id="cb7-107"><a href="#cb7-107"></a></span>
<span id="cb7-108"><a href="#cb7-108"></a>It seems like when Statistical Level 4 Areas(SL4A) in Australia have a negative internal migration, they get more overseas immigrants per capita, indicating that overseas immigrants may be more attracted to SL4A's that have a net negative internal migration. Perhaps this is because the labor pool is smaller, allowing them to more easily fill it, or perhaps there are other reasons. However, even if the trend was more positive for both SL4A's with fertility rates below and above replace rate, the y-intercept for both the net negative and net positive internal migration above replacement lines were the same. What this means is that in SL4A's with low populations and a fertility rate above replacement rate, the net overseas migration per capita is roughly similar, but that trend changes in SL4A's that have higher populations as immigrants tend to go to the ones with net negative internal migration. The reason why there are more SL4A's with positive internal migration and high populations is possibly because an SL4A with a high population is necessarily more likely to have a more active economy, attracting people internally for jobs. This may make it so that more natives go to these SL4A's, and perhaps overseas immigrants may have difficulty competing with natives. Lastly, the outliers which really increase the range of the y-axis tend to be outliers from the net negative internal migration SL4A's, and they are all also below replacement rate. Approaching this through the lens of the United States' urban development and history, the reason these outliers may have such high overseas migration per capita is because they serve as ethnic enclaves, where overseas immigrants of certain regons tend to concentrate. These SL4A's may have lower fertility rates and are losing natives to internal migration, which indicates that there are fewer natives occupying the area, making room for new overseas immigrant communities</span>
<span id="cb7-109"><a href="#cb7-109"></a></span>
<span id="cb7-110"><a href="#cb7-110"></a></span>
<span id="cb7-111"><a href="#cb7-111"></a><span class="fu">## References:</span></span>
<span id="cb7-112"><a href="#cb7-112"></a>https://dataexplorer.abs.gov.au/vis?fs[0]=Data%20by%20region%2C0%7CMain%20Structure%20and%20Greater%20Capital%20City%20Statistical%20Areas%23ASGS%23&amp;pg=0&amp;fc=Data%20by%20region&amp;df[ds]=DATA_BY_REGION_TOPICS&amp;df[id]=ABS_REGIONAL_ASGS2021&amp;df[ag]=ABS&amp;df[vs]=1.3.0&amp;pd=2022%2C2022&amp;dq=CABEE_5%2BCABEE_15%2BCABEE_10%2BMIGRATION_7%2BMIGRATION_4%2BBD_3%2BBD_4%2BBD_2%2BERP_P_20.SA3..A&amp;ly[cl]=MEASURE&amp;ly[rw]=ASGS_2021&amp;to[TIME_PERIOD]=false&amp;isAvailabilityDisabled=false&amp;snb=2 (accessed: April 18th, 2025)</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>